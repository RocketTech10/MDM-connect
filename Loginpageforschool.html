<!DOCTYPE html>
<style>
    div.homeContent{
        display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    }

    
    div.form-floating{
        margin: 10px;
    }

    input.email{
        position: relative;
        right: 8px;
    }

    button.btn.btn-primary{
        position: relative;
        margin: 10px;
        padding: 15px;
        background-color: rgb(195, 195, 253);
        border: 2px solid black;
        border-radius: 6px;
        /* height: 2vh; */
    }
</style>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDM-connect</title>

    <!-- swiper link  -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" /> -->

    <!-- cdn icon link  -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> -->
    <!-- custom css file  -->
    <link rel="stylesheet" href="style.css">

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

</head>

<body>

    <!-- header section start here  -->
    <header class="header">
        <div class="logoContent">
            <a href="#" class="logo"><img src="public/logo.png" alt=""></a>
            <h1 class="logoName">MDM-connect </h1>
        </div>

        <nav class="navbar">
            <a href="#home">HOME</a>
            <a href="#product">DOCS</a>
            <a href="#blogs">BLOGS</a>
            <a href="#review">REVIEW</a>
            <a href="#contact">CONTACT</a>
            <a href=""></a>
        </nav>

        <div class="icon">
            <i class="fas fa-search" id="search"></i>
            <i class="fas fa-bars" id="menu-bar"></i>
        </div>

        <div class="search">
            <input type="search" placeholder="search...">
        </div>
    </header>
    <!-- header section end here  -->

    <!-- home section start here  -->
        <section class="home" id="home">
            <div class="homeContent">
                <!-- <h2>Healthy Mid-Day-Meal </h2>
                <p>For our kids of the schools across the country . adipisicing elit. Eum excepturi doloribus, fuga quod
                    deserunt
                    recusandae?</p>
                <div class="home-btn">
                    <a href="#"><button>see more</button></a>
                </div> -->
                <h2>login User</h2>

    <form id="MainForm" class="">
        <div class="form-floating ">
            <input type="email" class="form-control" id="emailInp" placeholder="name@example.com" autocapitalize="none">
            <label for="floatingInput">Email-id</label>
          </div>
          <div class="form-floating ">
            <input type="password" class="form-control" id="passwordInp" placeholder="Password"  autocapitalize="none">
            <label for="floatingPassword">Password</label>
          </div>

          <button type="submit" class="btn btn-primary" style="float: right;">login</button>
          <a href="RegisterforCitizen.html"><button type="button" class="btn btn-primary me-2" style="float: right;">Sign-Up</button></a>
    </form>


            </div>
        </section>


    <!-- home section end here  -->


    <!-- transaction section -->


    <!-- <section class="second"> -->
        <!-- <div class="all"> -->
        <!-- <h1>Transaction</h1>
        <div class="fromplusimg">
            <form id="transferForm">
                <label for="contractAddress">Sender Address:</label>
                <input type="text" id="contractAddress" name="contractAddress"><br><br>
                <label for="receiver">Receiver Address:</label>
                <input type="text" id="receiver" name="receiver"><br><br>
                <label for="amount">Amount (Ether):</label>
                <input type="number" id="amount" name="amount" step="0.0001"><br><br>
                <label for="message">Message:</label>
                <input type="text" id="message" name="message"><br><br>
                <div class="transfer"><button class="transfer" type="submit">Transfer Ether</button></div>
            </form>
            <img class="form" src="public/form.jpg" alt="">
        </div>
        <div id="transferResult"></div>

        <br>
        <h2>Transaction History</h2>
        <table id="transactionTable">
            <thead>
                <tr>
                    <th>Sender</th>
                    <th>Receiver</th>
                    <th>Amount (Ether)</th>
                    <th>Amount (Rupees)</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody id="transactionHistory">
            </tbody>
        </table>

    </section>
 -->

    <!-- transaction section ends here -->

<!-- 
    <section class="newsletter">
        <a href="memechat/index.html" class="gotochat"><button class="gotochat"><img src="public/community.png" alt=""> Go to community chatroom</button></a>
    </section> -->

    <!-- <section class="fourth"> -->
		<!-- <div class="fourth">
			<h1 class="details">Details about the weekly meal schedule</h1>
			<div class="alldetail">

				<img class="detailimg" src="public/detail2.png" alt="" />
				<img class="detailimg" src="public/detail.jpg" alt="" />
				<img class="detailimg" src="public/detail3.jpg" alt="" /> -->

				<!-- <div class="pdfdetail">
			<a class="pdf1" href="public/pdf1.pdf download">
			<img class="pdf" src="public/pdf2.png" alt=""></a>
			<a class="pdf2" href="public/pdf2.pdf download">
			<img class="pdf" src="public/pdf2.png" alt=""></a>
		  </div> -->
			<!-- </div>
		</div>
	</section> -->


	<!-- <section class="fourth"> -->
		<!-- <div class="fourth"> -->
			<!-- <h1 class="details">Details about the weekly meal schedule</h1> -->
			<!-- <div class="alldetail">
				<img class="detailimg" src="public/detail4.webp" alt="" />
				<img class="detailimg" src="public/detail5.jpeg" alt="" />
				<img class="detailimg" src="public/detail6.jpeg" alt="" /> -->
				<!-- <div class="pdfdetail">
			<a class="pdf1" href="public/pdf1.pdf download">
			<img class="pdf" src="public/pdf2.png" alt=""></a>
			<a class="pdf2" href="public/pdf2.pdf download">
			<img class="pdf" src="public/pdf2.png" alt=""></a>
		  </div> -->

			<!-- </div>
			<div class="endofit">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Officiis tempore debitis, ex
				nobis aperiam tenetur doloribus magnam laudantium officia, odit iusto sint facilis!</div>
		</div>
	</section> -->


    <!-- product section start here  -->
    <!-- <section class="product" id="product">
        <div class="heading">
            <h2>read important documents related mid-day-meal scheme</h2>
        </div>
        <div class="swiper product-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail6.jpeg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail5.jpeg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail6.jpeg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail5.jpeg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>

            </div>
            <div class="swiper-pagination"></div>
        </div>
        <div class="swiper product-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail3.jpg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail.jpg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail3.jpg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="img">
                        <img src="public/detail.jpg" alt="">
                    </div>
                    <div class="product-content">
                        <h3>docs</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa adipisci reiciendis assumenda.
                        </p>
                        <div class="orderNow">
                            <button><a href="viewdoc.html">View Document </a></button>
                        </div>
                    </div>
                </div>

            </div>
            <div class="swiper-pagination"></div>
        </div>
    </section>

     -->

    <!-- product section end here  -->

    <!-- blogs section start here  -->
    <!-- <section class="blogs" id="blogs">

        <div class=" swiper blogs-row">
            <div class="swiper-wrapper">
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="public/midd3.png" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="public/mid2.jpg" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
                <div class=" swiper-slide box">
                    <div class="img">
                        <img src="public/mid2.jpeg" alt="">
                    </div>
                    <div class="content">
                        <h3>Caramel Bourbon Vanilla Cupcakes </h3>
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi dolorum voluptatum
                            corporis accusamus aperiam fugiat tempora blanditiis labore dolor aliquid maxime nobis
                            laborum sed soluta voluptatibus aspernatur natus, dicta quisquam.</p>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Totam ab ullam reiciendis sint
                            eaque at.</p>
                        <a href="#blogs" class="btn">learn more</a>
                    </div>
                </div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-pagination"></div>


        </div>
    </section> -->

    <!-- blogs section ends here  -->

    <!-- newsletter section start here  -->

    <!-- <section class="newsletter">
        <form action="">
            <h3>subscribe for latest update</h3>
            <input type="email" name="" placeholder="enter your email" id="" class="box">
            <input type="button" value="subscribe" class="box2">
        </form>
    </section> -->
    <!-- newsletter section ends here  -->

    <!-- review section start here  -->
    <!-- <section class="review" id="review">
        <div class="heading">
            <h2>reviews</h2>
        </div>


        <div class=" swiper review-row">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Popat lal</h3>
                            <p>Villager 1</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Hardy Devid</h3>
                            <p>Villager 2</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Champak</h3>
                            <p>Villager 3</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <div class="client-review">
                        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Provident, perferendis architecto
                            quasi eveniet aliquam sed?</p>
                    </div>
                    <div class="client-info">
                        <div class="img">
                            <img src="images/client1.jpg" alt="">
                        </div>
                        <div class="clientDetailed">
                            <h3>Swati Sarkar</h3>
                            <p>Villager 4</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>

            </div>
        </div>
    </section> -->
    <!-- review section ends here  -->

    <!-- footer section start here  -->

    <footer class="footer" id="contact">
        <div class="box-container">
            <div class="mainBox">
                <div class="content">
                    <a href="#"><img class="logo" src="public/logo.png" alt=""></a>
                    <h1 class="logoName"> MDM-connect </h1>
                </div>

                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dicta accusamus maxime quod.</p>

            </div>
            <div class="box">
                <h3>Quick link</h3>
                <a href="#"> <i class="fas fa-arrow-right"></i>Home</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>product</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>blogs</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>review</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>contact</a>

            </div>
            <div class="box">
                <h3>Extra link</h3>
                <a href="#"> <i class="fas fa-arrow-right"></i>Account info</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>order item</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>privacy policy</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>payment method</a>
                <a href="#"> <i class="fas fa-arrow-right"></i>our services</a>
            </div>
            <div class="box">
                <h3>Contact Info</h3>
                <a href="#"> <i class="fas fa-phone"></i>+91 12222 34444</a>
                <a href="#"> <i class="fas fa-envelope"></i>CodeCrafters@gmail.com</a>

            </div>

        </div>
        <div class="share">
            <a href="#" class="fab fa-facebook-f"></a>
            <a href="#" class="fab fa-twitter"></a>
            <a href="#" class="fab fa-instagram"></a>
            <a href="#" class="fab fa-linkedin"></a>
            <a href="#" class="fab fa-pinterest"></a>
        </div>
        <div class="credit">
            created by <span>Team CodeCrafters..... </span> | Made for the Agnethon 2024 |
        </div>
    </footer>










    <!-- swiper js link  -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- custom js file  -->
    <script src="index.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.3/dist/web3.min.js"></script>
    <!-- <script>
        window.addEventListener('load', async () => {
            if (window.ethereum) {
                window.web3 = new Web3(window.ethereum);
                await window.ethereum.enable();
            } else if (window.web3) {
                window.web3 = new Web3(window.web3.currentProvider);
            } else {
                console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
            }

            // Listen for changes in the Firebase database
            database.ref('transactions').on('value', (snapshot) => {
                const transactions = snapshot.val();
                transactionHistory.innerHTML = ''; // Clear the existing table content

                // Loop through the transactions and populate the table
                for (let key in transactions) {
                    const transaction = transactions[key];
                    const newRow = transactionHistory.insertRow();
                    newRow.insertCell(0).textContent = transaction.sender;
                    newRow.insertCell(1).textContent = transaction.receiver;
                    newRow.insertCell(2).textContent = transaction.amount;
                    newRow.insertCell(3).textContent = transaction.amountInRupees;
                    newRow.insertCell(4).textContent = transaction.message;
                }
            });

        });

        // Initialize Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyCANok8a-WeWLs37Bdm7tvbCyt-xf0QRyM",
            authDomain: "demosavedata-48b10.firebaseapp.com",
            databaseURL: "https://demosavedata-48b10-default-rtdb.firebaseio.com",
            projectId: "demosavedata-48b10",
            storageBucket: "demosavedata-48b10.appspot.com",
            messagingSenderId: "557400123799",
            appId: "1:557400123799:web:551725a6a27e9708f77cd2"
        };
        firebase.initializeApp(firebaseConfig);

        // Get a reference to the database service
        var database = firebase.database();

        document.getElementById('transferForm').addEventListener('submit', async (event) => {
            event.preventDefault();

            const contractAddress = document.getElementById('contractAddress').value;
            const receiver = document.getElementById('receiver').value;
            const amount = document.getElementById('amount').value;
            const message = document.getElementById('message').value;

            const contractABI = [
                {
                    "anonymous": false,
                    "inputs": [
                        {
                            "indexed": false,
                            "internalType": "address",
                            "name": "from",
                            "type": "address"
                        },
                        {
                            "indexed": false,
                            "internalType": "address",
                            "name": "to",
                            "type": "address"
                        },
                        {
                            "indexed": false,
                            "internalType": "uint256",
                            "name": "amount",
                            "type": "uint256"
                        },
                        {
                            "indexed": false,
                            "internalType": "string",
                            "name": "message",
                            "type": "string"
                        }
                    ],
                    "name": "Sent",
                    "type": "event"
                },
                {
                    "inputs": [
                        {
                            "internalType": "address payable",
                            "name": "_receiver",
                            "type": "address"
                        },
                        {
                            "internalType": "string",
                            "name": "_message",
                            "type": "string"
                        }
                    ],
                    "name": "transferEther",
                    "outputs": [],
                    "stateMutability": "payable",
                    "type": "function"
                }
            ]; // Your contract ABI

            const contract = new window.web3.eth.Contract(contractABI, contractAddress);

            try {
                const accounts = await window.web3.eth.getAccounts();
                const sender = accounts[0];

                await contract.methods.transferEther(receiver, message).send({
                    from: sender,
                    value: window.web3.utils.toWei(amount, 'ether')
                });

                document.getElementById('transferResult').innerText = 'Ether successfully sent!';

                // Save transaction to Firebase
                database.ref('transactions').push({
                    sender: contractAddress,
                    receiver: receiver,
                    amount: amount,
                    amountInRupees: amount * 50000, // Assuming 1 Ether = 50000 Rupees
                    message: message
                });

            } catch (error) {
                console.error('Error:', error);
                document.getElementById('transferResult').innerText = 'Error: ' + error.message;
            }
        });

    </script> -->


<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
crossorigin="anonymous "
></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-analytics.js";
import { getDatabase, get, ref, child  } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";  
const firebaseConfig = {
apiKey: "AIzaSyCJNeqkioEArempCfA85xALhgPbgUk6zPk",
authDomain: "register01-1ddf6.firebaseapp.com",
databaseURL: "https://register01-1ddf6-default-rtdb.firebaseio.com",
projectId: "register01-1ddf6",
storageBucket: "register01-1ddf6.appspot.com",
messagingSenderId: "421482049095",
appId: "1:421482049095:web:dee08e9eaa8597c89d0b62",
measurementId: "G-XE9JVLLLN2"
};
  const app = initializeApp(firebaseConfig);
  const db = getDatabase();
  const auth = getAuth(app);
  const analytics = getAnalytics(app);
  const dbref = ref(db);

  let EmailInp = document.getElementById('emailInp');
  let PassInp = document.getElementById('passwordInp');
  let MainForm = document.getElementById('MainForm');

  let SignInUser = evt => {
      evt.preventDefault();

      signInWithEmailAndPassword(auth, EmailInp.value, PassInp.value)
      .then((credentials)=>{
          
          get(child(dbref, 'UserAuthList/' + credentials.user.uid)).then((snapshot)=>{
              if(snapshot.exists){
                  sessionStorage.setItem("user-info", JSON.stringify({
                      firstname: snapshot.val().firstname,
                      lastname: snapshot.val().lastname,
                  }))
                  sessionStorage.setItem("user-creds", JSON.stringify(credentials.user));
                  window.location.href = 'schools.html';
              }
          })
          })

      .catch((error)=>{
          alert(error.message);
          console.log(error.code);
          console.log(error.message);
      })
  }

  MainForm.addEventListener('submit', SignInUser);
</script>
    <script src="script.js"></script>
</body>

</html>